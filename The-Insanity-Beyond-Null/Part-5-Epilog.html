<!DOCTYPE html>
<html lang="ja">
  <head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-0ZTJ8C5812"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-0ZTJ8C5812');
    </script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4691079535294206" crossorigin="anonymous"></script>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Part 5. 結び | The Insanity Beyond Null</title>
    <link rel="canonical" href="https://www.maroontress.com/The-Insanity-Beyond-Null/Part-5-Epilog.html" />
    <link rel="stylesheet" type="text/css" href="/css/markdown.ja.css">
    <link rel="stylesheet" type="text/css" href="next-button.css">
    <link rel="apple-touch-icon" sizes="120x120" href="/images/logo-v2-120x120.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/logo-v2-180x180.png">
    <link rel="icon" type="image/x-icon" href="/images/logo-v2.ico">
    <link rel="mask-icon" href="/images/logo-v2-mask-icon.svg" color="#800000">
    <script src="/js/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    <script src="/js/toc.js"></script>
    <script src="next-button.js"></script>
  </head>
  <body>
    <div class="logo">
      <b>Maroontress Fast Software</b>
    </div>
    <div class="container">
      <div class="main-container">
        <section>
          <main class="content">
<div class="project-logo">The Insanity Beyond Null</div>
<div id="toc-level" data-values="H2,H3"></div>
<h1>5. 結び</h1>
<p>所詮<code>null</code>かどうかを確認するだけのことだが、
人間はそれを完璧にはこなせない。
「nullチェック忘れ」を克服するため、nullオブジェクトパターン、
選択型（option type）、null許容型、コンパイラの静的解析など、
様々な工夫を見てきた。
しかし、それらの複雑さを導入するコストは、
効果に見合うものであると言い切れるだろうか。</p>
<p>書籍 <em>Software Tools</em> [<a href="#ref1">1</a>] には、エラー処理について次のような記述がある:</p>
<blockquote>
<p><em>Error checking interferes with readability, no question about it, but it is necessary. With the best of languages, error checking obscures the main flow of events because the checks themselves impose a structure on the code which is different from that which expresses the basic job to be done. Programs written from the start with well thought out error checks, however, prove to be more reliable and live longer than those where the error checking is pasted on as an afterthought.</em></p>
<blockquote>
<p>要約:</p>
<ul>
<li>エラーチェックは可読性を間違いなく悪くするが、それは必要なことだ</li>
<li>エラーチェックそれ自体が、通常の処理が表す構造とは異なる構造をコードに強いるので、
最良の言語をもってしても、エラーチェックは通常のフローを分かりにくくする</li>
<li>最初からエラーチェックを考慮して書いたプログラムは、
後付けでエラーチェックを書き足したプログラムよりも、信頼できるし、長生きする</li>
</ul>
</blockquote>
</blockquote>
<p>エラーチェックをnullチェックに置き換えてみると、
40年以上前から状況はあまり変わっていないようだ。
もちろん、例外のスロー、キャッチのような仕組みで、
通常の処理と例外処理の構造を分離できるようになった言語は多い。
しかし、通常の処理として戻り値をチェックし、
その値の種類によって異なる処理を実行するという点では、
何も変わっていない。</p>
<p>また、プログラミング言語のnull安全性として、
言語の途中のバージョンから仕掛けを追加したものと、
最初から仕掛けが備わっているものでは、使い勝手にかなり大きな差がある。
生粋のnull安全性は後付けのそれとは別格である。
[1] の表現を真似させてもらうと、
「最初からnull安全性を考慮して設計されたプログラミング言語は、
後付けで追加されたものよりも、信頼できるし、長生きする」だろう。</p>
<p>最後に、null安全性に関する議論は、昔のgotoのようである。
gotoを排除すればとにかく良くなるらしい、
gotoが無い代わりにラベル付きbreakというgotoの亡霊を登場させる、
などなど。
gotoを隠しても、その概念は消えない。
<code>null</code>も同じである。値が0個または1個である、
という状況への対応は、<code>null</code>があろうがなかろうが、存在し続ける。</p>
<h2>References</h2>
<!--
<style>
#references + ol > li::marker { content: "[" counter(list-item) "] "; }
</style>
-->
<div id="references"></div>
<ol>
<li><a name="ref1"></a>
<a href="http://books.google.com/books?vid=ISBN020103669X">Brian W. Kernighan, P. J. Plauger, P. L. Plauger.
<em>Software Tools</em>, Addison-Wesley, 1976.</a></li>
</ol>
<!--

### Single Entry, Single Exit (SESE)

- https://en.wikipedia.org/wiki/Structured_programming
- https://softwareengineering.stackexchange.com/questions/118703/where-did-the-notion-of-one-return-only-come-from
- [Dijkstra, Edsger W. "Letters to the editor:
  Go to statement considered harmful",
  _Communications of the ACM_,
  Vol. 11, No. 3, pp. 147&mdash;148, Mar. 1968.](https://doi.org/10.1145%2F362929.362947)

### The Billion Dollar Mistake

- [Null References: The Billion Dollar Mistake - Tony Hoare](https://www.youtube.com/watch?v=ybrQvs4x0Ps)
- https://www.infoq.com/presentations/Null-References-The-Billion-Dollar-Mistake-Tony-Hoare/
- https://en.wikipedia.org/wiki/Tony_Hoare

-->
          </main>
        </section>
      </div>
      <div class="left-container">
<nav>
  <div>
    <a href="/">Projects</a>
  </div>
  <div>
    <span>&#x25BE;</span>
  </div>
  <div>
    <span class="project-name"><a href="index.html">The Insanity Beyond Null</a></span>
  </div>
  <ul>
    <li>
      <a href="index.html">Top</a>
    </li>
    <li>
      <a href="Part-0-Null.html">0. Null</a>
    </li>
    <li>
      <a href="Part-1-Java-11.html">1. Java 11のnull</a>
    </li>
    <li>
      <a href="Part-2-CSharp-8.html">2. C# 8のnull</a>
    </li>
    <li>
      <a href="Part-3-Others.html">3. そのほかのnull</a>
    </li>
    <li>
      <a href="Part-4-Exercises.html">4. 演習問題</a>
    </li>
    <li class="selected">
      5. 結び
    </li>
    <ul id="toc-placeholder">
    </ul>
  </ul>
</nav>
      </div>
    </div>
  </body>
</html>
