<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
  <head>
    <meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
    <title>Tree - com_maroontress_libcgi_db_Tree</title>
    <link rel="stylesheet" type="text/css" href="sanctuary.css">
  </head>
  <body>
    <h3>package com_maroontress_libcgi_db</h3>
    <h1>class Tree</h1>
#define com_maroontress_libcgi_db_Tree_IMPORT<br>
#include &lt;com/maroontress/libcgi/db/Tree.h&gt;<br>
    <dl><dd>
バイナリツリーのデータベースです。
<p>ツリーはキーとなる文字列とそのキーに対応する<a href='com_maroontress_libcgi_db_Box.html'>ボックス</a>から構成されます。ボックスはキーを指定して取得、消去することができます。また、キーはその文字列の辞書順で順序付けられ、ツリーのボックスはそれぞれのキーの順序でソートされています。そのため、キーの順番でボックスをスキャンすることができます。</p>
<p>ボックスを追加、変更するには、ツリーから<a href='com_maroontress_libcgi_db_BoxKit.html'>ボックスキット</a>を生成します。ボックスキットを編集し、クローズすることで、ツリーを変更することができます。</p>
<p>ツリーはエラーが発生するとオンになるエラーインディケータをもちます。エラーインディケータの状態は<a href="com_maroontress_libcgi_db_Tree.html#com_maroontress_libcgi_db_Tree_hasError">Tree_<wbr>hasError</a>()で取得できます。一度オンになったエラーインディケータは<a href="com_maroontress_libcgi_db_Tree.html#com_maroontress_libcgi_db_Tree_clearError">Tree_<wbr>clearError</a>()を呼ぶまでオフになりません。</p>
  </dd></dl>
    <hr>
    <h2>Struct Summary</h2>
    <table width="100%" cellspacing="0" border="1">
      <tr>
        <td colspan="2"><font size="+1"><b><a href="com_maroontress_libcgi_db_Tree.html#struct com_maroontress_libcgi_db_Tree">struct Tree</a></b></font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ツリーの実体となる構造体です。</td>
        </tr>
    </table><br>
    <table width="100%" cellspacing="0" border="1">
      <tr>
        <td colspan="2"><font size="+1"><b><a href="com_maroontress_libcgi_db_Tree.html#struct com_maroontress_libcgi_db_Tree_Mode">struct Tree_<wbr>Mode</a></b></font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ツリーを生成する際に指定するモードを表す構造体です。</td>
        </tr>
    </table><br>
<h2>Method Summary</h2>
    <table width="100%" cellspacing="0" border="1">
<tr>
  <td align="right" valign="top" width="1%">
    <font size="-1">&nbsp;<a href="com_maroontress_libcgi_db_Tree.html#struct com_maroontress_libcgi_db_Tree">struct Tree</a> *</font>
  </td>
  <td valign="top"><a href="#com_maroontress_libcgi_db_Tree_create"><b>Tree_<wbr>create</b></a>(const char *&nbsp;<i>path</i>, const <a href="com_maroontress_libcgi_db_Tree.html#struct com_maroontress_libcgi_db_Tree_Mode">struct Tree_<wbr>Mode</a> *&nbsp;<i>mode</i>)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ツリーを生成します。</td>
</tr>
<tr>
  <td align="right" valign="top" width="1%">
    <font size="-1">&nbsp;void</font>
  </td>
  <td valign="top"><a href="#com_maroontress_libcgi_db_Tree_free"><b>Tree_<wbr>free</b></a>(<a href="com_maroontress_libcgi_db_Tree.html#struct com_maroontress_libcgi_db_Tree">struct Tree</a> *&nbsp;<i>tree</i>)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ツリーを解放します。</td>
</tr>
<tr>
  <td align="right" valign="top" width="1%">
    <font size="-1">&nbsp;<a href="com_maroontress_libcgi_db_BoxKit.html#struct com_maroontress_libcgi_db_BoxKit">struct BoxKit</a> *</font>
  </td>
  <td valign="top"><a href="#com_maroontress_libcgi_db_Tree_getBoxKit"><b>Tree_<wbr>getBoxKit</b></a>(<a href="com_maroontress_libcgi_db_Tree.html#struct com_maroontress_libcgi_db_Tree">struct Tree</a> *&nbsp;<i>tree</i>, const char *&nbsp;<i>key</i>)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ツリーを変更するためのボックスキットを生成します。</td>
</tr>
<tr>
  <td align="right" valign="top" width="1%">
    <font size="-1">&nbsp;int</font>
  </td>
  <td valign="top"><a href="#com_maroontress_libcgi_db_Tree_delete"><b>Tree_<wbr>delete</b></a>(<a href="com_maroontress_libcgi_db_Tree.html#struct com_maroontress_libcgi_db_Tree">struct Tree</a> *&nbsp;<i>tree</i>, const char *&nbsp;<i>key</i>)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ツリーからボックスを消去します。</td>
</tr>
<tr>
  <td align="right" valign="top" width="1%">
    <font size="-1">&nbsp;<a href="com_maroontress_libcgi_db_Box.html#struct com_maroontress_libcgi_db_Box">struct Box</a> *</font>
  </td>
  <td valign="top"><a href="#com_maroontress_libcgi_db_Tree_scanFirstBox"><b>Tree_<wbr>scanFirstBox</b></a>(<a href="com_maroontress_libcgi_db_Tree.html#struct com_maroontress_libcgi_db_Tree">struct Tree</a> *&nbsp;<i>tree</i>)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ツリーの最初のボックスをスキャンします。</td>
</tr>
<tr>
  <td align="right" valign="top" width="1%">
    <font size="-1">&nbsp;<a href="com_maroontress_libcgi_db_Box.html#struct com_maroontress_libcgi_db_Box">struct Box</a> *</font>
  </td>
  <td valign="top"><a href="#com_maroontress_libcgi_db_Tree_scanNextBox"><b>Tree_<wbr>scanNextBox</b></a>(<a href="com_maroontress_libcgi_db_Tree.html#struct com_maroontress_libcgi_db_Tree">struct Tree</a> *&nbsp;<i>tree</i>)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ツリーの次のボックスをスキャンします。</td>
</tr>
<tr>
  <td align="right" valign="top" width="1%">
    <font size="-1">&nbsp;<a href="com_maroontress_libcgi_db_Box.html#struct com_maroontress_libcgi_db_Box">struct Box</a> *</font>
  </td>
  <td valign="top"><a href="#com_maroontress_libcgi_db_Tree_scanLastBox"><b>Tree_<wbr>scanLastBox</b></a>(<a href="com_maroontress_libcgi_db_Tree.html#struct com_maroontress_libcgi_db_Tree">struct Tree</a> *&nbsp;<i>tree</i>)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ツリーの最後のボックスをスキャンします。</td>
</tr>
<tr>
  <td align="right" valign="top" width="1%">
    <font size="-1">&nbsp;<a href="com_maroontress_libcgi_db_Box.html#struct com_maroontress_libcgi_db_Box">struct Box</a> *</font>
  </td>
  <td valign="top"><a href="#com_maroontress_libcgi_db_Tree_scanPreviousBox"><b>Tree_<wbr>scanPreviousBox</b></a>(<a href="com_maroontress_libcgi_db_Tree.html#struct com_maroontress_libcgi_db_Tree">struct Tree</a> *&nbsp;<i>tree</i>)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ツリーの前のボックスをスキャンします。</td>
</tr>
<tr>
  <td align="right" valign="top" width="1%">
    <font size="-1">&nbsp;<a href="com_maroontress_libcgi_db_Box.html#struct com_maroontress_libcgi_db_Box">struct Box</a> *</font>
  </td>
  <td valign="top"><a href="#com_maroontress_libcgi_db_Tree_scanBox"><b>Tree_<wbr>scanBox</b></a>(<a href="com_maroontress_libcgi_db_Tree.html#struct com_maroontress_libcgi_db_Tree">struct Tree</a> *&nbsp;<i>tree</i>, const char *&nbsp;<i>key</i>)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;キーを指定してボックスをスキャンします。</td>
</tr>
<tr>
  <td align="right" valign="top" width="1%">
    <font size="-1">&nbsp;<a href="com_maroontress_libcgi_db_Box.html#struct com_maroontress_libcgi_db_Box">struct Box</a> *</font>
  </td>
  <td valign="top"><a href="#com_maroontress_libcgi_db_Tree_getBox"><b>Tree_<wbr>getBox</b></a>(<a href="com_maroontress_libcgi_db_Tree.html#struct com_maroontress_libcgi_db_Tree">struct Tree</a> *&nbsp;<i>tree</i>, const char *&nbsp;<i>key</i>)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;キーを指定してボックスを取得します。</td>
</tr>
<tr>
  <td align="right" valign="top" width="1%">
    <font size="-1">&nbsp;int</font>
  </td>
  <td valign="top"><a href="#com_maroontress_libcgi_db_Tree_put"><b>Tree_<wbr>put</b></a>(<a href="com_maroontress_libcgi_db_Tree.html#struct com_maroontress_libcgi_db_Tree">struct Tree</a> *&nbsp;<i>tree</i>, const char *&nbsp;<i>key</i>, const void *&nbsp;<i>data</i>, size_t&nbsp;<i>size</i>)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;シリアライズされたデータをコミットします。</td>
</tr>
<tr>
  <td align="right" valign="top" width="1%">
    <font size="-1">&nbsp;int</font>
  </td>
  <td valign="top"><a href="#com_maroontress_libcgi_db_Tree_hasError"><b>Tree_<wbr>hasError</b></a>(<a href="com_maroontress_libcgi_db_Tree.html#struct com_maroontress_libcgi_db_Tree">struct Tree</a> *&nbsp;<i>tree</i>)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ツリーのエラーインディケータの状態を取得します。</td>
</tr>
<tr>
  <td align="right" valign="top" width="1%">
    <font size="-1">&nbsp;void</font>
  </td>
  <td valign="top"><a href="#com_maroontress_libcgi_db_Tree_clearError"><b>Tree_<wbr>clearError</b></a>(<a href="com_maroontress_libcgi_db_Tree.html#struct com_maroontress_libcgi_db_Tree">struct Tree</a> *&nbsp;<i>tree</i>)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ツリーのエラーインディケータの状態をクリアします。</td>
</tr>
    </table>
<h2>Global Variable Summary</h2>
    <table width="100%" cellspacing="0" border="1">
<tr>
  <td align="right" valign="top" width="1%">
    <font size="-1">&nbsp;const <a href="com_maroontress_libcgi_db_Tree.html#struct com_maroontress_libcgi_db_Tree_Mode">struct Tree_<wbr>Mode</a> *const</font>
  </td>
  <td valign="top"><a href="#com_maroontress_libcgi_db_Tree_MODE_READONLY"><b>Tree_MODE_READONLY</b></a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;共有ロック（リーダロック）のモードです。</td>
</tr>
<tr>
  <td align="right" valign="top" width="1%">
    <font size="-1">&nbsp;const <a href="com_maroontress_libcgi_db_Tree.html#struct com_maroontress_libcgi_db_Tree_Mode">struct Tree_<wbr>Mode</a> *const</font>
  </td>
  <td valign="top"><a href="#com_maroontress_libcgi_db_Tree_MODE_SHARED"><b>Tree_MODE_SHARED</b></a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;共有ロック（リーダロック）のモードです。</td>
</tr>
<tr>
  <td align="right" valign="top" width="1%">
    <font size="-1">&nbsp;const <a href="com_maroontress_libcgi_db_Tree.html#struct com_maroontress_libcgi_db_Tree_Mode">struct Tree_<wbr>Mode</a> *const</font>
  </td>
  <td valign="top"><a href="#com_maroontress_libcgi_db_Tree_MODE_EXCLUSIVE"><b>Tree_MODE_EXCLUSIVE</b></a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;排他ロック（ライタロック）のモードです。</td>
</tr>
    </table>
    <h2>Struct Detail</h2>
<p><a name="struct com_maroontress_libcgi_db_Tree"></a>
<font size="+1"><b>struct Tree</b></font></p>
<dl><dd>
ツリーの実体となる構造体です。
<p>型の詳細は隠蔽されています。</p>
    </dd></dl>
<hr>
<p><a name="struct com_maroontress_libcgi_db_Tree_Mode"></a>
<font size="+1"><b>struct Tree_Mode</b></font></p>
<dl><dd>
ツリーを生成する際に指定するモードを表す構造体です。
<p>型の詳細は隠蔽されています。</p>
    </dd></dl>
<hr>
<h2>Method Detail</h2>
<p><a name="com_maroontress_libcgi_db_Tree_create"></a><font size="+1"><b>Tree_<wbr>create</b></font></p>
<table cellpadding="0" cellspacing="0">
  <tr>
    <td nowrap><a href="com_maroontress_libcgi_db_Tree.html#struct com_maroontress_libcgi_db_Tree">struct Tree</a> * <b>Tree_create</b>(</td>
    <td nowrap>const char *&nbsp;<i>path</i>,</td>
  </tr>
  <tr>
    <td></td><td nowrap>const <a href="com_maroontress_libcgi_db_Tree.html#struct com_maroontress_libcgi_db_Tree_Mode">struct Tree_<wbr>Mode</a> *&nbsp;<i>mode</i>)</td>
  </tr>
</table>
<dl>
<dd>
ツリーを生成します。
<p><span class="arg">path</span>のデータベースファイルからツリーを生成します。データベースファイルは生成したインスタンスを解放するまで、<span class="arg">mode</span>に応じた方式でロックされます。</p>
<p><span class="arg">mode</span>が<a href="com_maroontress_libcgi_db_Tree.html#com_maroontress_libcgi_db_Tree_MODE_READONLY">Tree_<wbr>MODE_<wbr>READONLY</a>または<a href="com_maroontress_libcgi_db_Tree.html#com_maroontress_libcgi_db_Tree_MODE_SHARED">Tree_<wbr>MODE_<wbr>SHARED</a>のときは読み出し専用のツリーを生成します。このモードではデータベースファイルに共有ロックを適用するので、ツリーを解放するまでデータベースファイルの内容は不変です。<a href="com_maroontress_libcgi_db_Tree.html#com_maroontress_libcgi_db_Tree_delete">Tree_<wbr>delete</a>()と、<a href="com_maroontress_libcgi_db_Tree.html#com_maroontress_libcgi_db_Tree_getBoxKit">Tree_<wbr>getBoxKit</a>()で取得したBoxKitインスタンスの<a href="com_maroontress_libcgi_db_BoxKit.html#com_maroontress_libcgi_db_BoxKit_close">BoxKit_<wbr>close</a>()は必ず失敗します。</p>
<p><span class="arg">mode</span>が<a href="com_maroontress_libcgi_db_Tree.html#com_maroontress_libcgi_db_Tree_MODE_EXCLUSIVE">Tree_<wbr>MODE_<wbr>EXCLUSIVE</a>のときは読み書き可能なツリーを生成します。このモードではデータベースファイルに排他ロックを適用するので、ツリーを解放するまでデータベースファイルを排他的に使用できます。</p>
<p><span class="arg">path</span>が存在しない場合、<span class="arg">mode</span>が<a href="com_maroontress_libcgi_db_Tree.html#com_maroontress_libcgi_db_Tree_MODE_READONLY">Tree_<wbr>MODE_<wbr>READONLY</a>ならば<span class="code">NULL</span>を返します。<span class="arg">mode</span>が<a href="com_maroontress_libcgi_db_Tree.html#com_maroontress_libcgi_db_Tree_MODE_SHARED">Tree_<wbr>MODE_<wbr>SHARED</a>または<a href="com_maroontress_libcgi_db_Tree.html#com_maroontress_libcgi_db_Tree_MODE_EXCLUSIVE">Tree_<wbr>MODE_<wbr>EXCLUSIVE</a>ならばファイルを生成します。</p>
<p>戻り値が参照するオブジェクトは<a href="com_maroontress_libcgi_db_Tree.html#com_maroontress_libcgi_db_Tree_free">Tree_<wbr>free</a>()で解放しなければなりません。</p>
<p>ツリーを生成できなかった場合は<span class="code">NULL</span>を返します。</p>
    </dd>

<dl>Parameters:<dd>
<i>path</i> - データベースファイルのパス<br>

<i>mode</i> - <a href="com_maroontress_libcgi_db_Tree.html#com_maroontress_libcgi_db_Tree_MODE_READONLY">Tree_<wbr>MODE_<wbr>READONLY</a>、<a href="com_maroontress_libcgi_db_Tree.html#com_maroontress_libcgi_db_Tree_MODE_SHARED">Tree_<wbr>MODE_<wbr>SHARED</a>、<a href="com_maroontress_libcgi_db_Tree.html#com_maroontress_libcgi_db_Tree_MODE_EXCLUSIVE">Tree_<wbr>MODE_<wbr>EXCLUSIVE</a>のいずれか<br>

</dd></dl>
<dl>Returns:<dd>ツリー、または<span class="code">NULL</span></dd></dl>
</dl>
<hr>
<p><a name="com_maroontress_libcgi_db_Tree_free"></a><font size="+1"><b>Tree_<wbr>free</b></font></p>
<table cellpadding="0" cellspacing="0">
  <tr>
    <td nowrap>void <b>Tree_free</b>(</td>
    <td nowrap><a href="com_maroontress_libcgi_db_Tree.html#struct com_maroontress_libcgi_db_Tree">struct Tree</a> *&nbsp;<i>tree</i>)</td>
  </tr>
</table>
<dl>
<dd>
ツリーを解放します。
<p>データベースファイルのロックを解除します。</p>
<p><span class="arg">tree</span>が<span class="code">NULL</span>のときはなにもしません。呼び出し後は<span class="arg">tree</span>が参照するオブジェクトを参照してはなりません。</p>
    </dd>

<dl>Parameters:<dd>
<i>tree</i> - ツリー<br>

</dd></dl>
</dl>
<hr>
<p><a name="com_maroontress_libcgi_db_Tree_getBoxKit"></a><font size="+1"><b>Tree_<wbr>getBoxKit</b></font></p>
<table cellpadding="0" cellspacing="0">
  <tr>
    <td nowrap><a href="com_maroontress_libcgi_db_BoxKit.html#struct com_maroontress_libcgi_db_BoxKit">struct BoxKit</a> * <b>Tree_getBoxKit</b>(</td>
    <td nowrap><a href="com_maroontress_libcgi_db_Tree.html#struct com_maroontress_libcgi_db_Tree">struct Tree</a> *&nbsp;<i>tree</i>,</td>
  </tr>
  <tr>
    <td></td><td nowrap>const char *&nbsp;<i>key</i>)</td>
  </tr>
</table>
<dl>
<dd>
ツリーを変更するためのボックスキットを生成します。
<p>指定されたキーに対応するボックスキットを生成します。既に同じキーのボックスがツリーに含まれる場合は、そのボックスの内容をボックスキットにコピーします。</p>
<p>戻り値が参照するオブジェクトは<a href="com_maroontress_libcgi_db_BoxKit.html#com_maroontress_libcgi_db_BoxKit_purge">BoxKit_<wbr>purge</a>()または<a href="com_maroontress_libcgi_db_BoxKit.html#com_maroontress_libcgi_db_BoxKit_close">BoxKit_<wbr>close</a>()で解放しなければなりません。また、生成したボックスキットを解放するまで、<span class="arg">tree</span>を操作してはなりません。</p>
<p>ボックスキットを生成できなかった場合は<span class="code">NULL</span>を返します。</p>

     <p>エラーの場合はエラーインディケータを設定します。</p>
  
    </dd>

<dl>Parameters:<dd>
<i>tree</i> - ツリー<br>

<i>key</i> - キーとなる文字列<br>

</dd></dl>
<dl>Returns:<dd>ボックスキット、または<span class="code">NULL</span></dd></dl>
</dl>
<hr>
<p><a name="com_maroontress_libcgi_db_Tree_delete"></a><font size="+1"><b>Tree_<wbr>delete</b></font></p>
<table cellpadding="0" cellspacing="0">
  <tr>
    <td nowrap>int <b>Tree_delete</b>(</td>
    <td nowrap><a href="com_maroontress_libcgi_db_Tree.html#struct com_maroontress_libcgi_db_Tree">struct Tree</a> *&nbsp;<i>tree</i>,</td>
  </tr>
  <tr>
    <td></td><td nowrap>const char *&nbsp;<i>key</i>)</td>
  </tr>
</table>
<dl>
<dd>
ツリーからボックスを消去します。
<p>指定されたキーに対応するボックスを消去します。</p>

     <p><a href="com_maroontress_libcgi_db_Tree.html#com_maroontress_libcgi_db_Tree_MODE_READONLY">Tree_<wbr>MODE_<wbr>READONLY</a>または<a href="com_maroontress_libcgi_db_Tree.html#com_maroontress_libcgi_db_Tree_MODE_SHARED">Tree_<wbr>MODE_<wbr>SHARED</a>で生成したツリーの場合は常に&minus;1を返します。</p>
  

     <p>エラーの場合はエラーインディケータを設定します。</p>
  
    </dd>

<dl>Parameters:<dd>
<i>tree</i> - ツリー<br>

<i>key</i> - キーとなる文字列<br>

</dd></dl>
<dl>Returns:<dd>成功した場合は0、キーに対応するボックスが存在しない場合は1、エラーの場合は&minus;1</dd></dl>
</dl>
<hr>
<p><a name="com_maroontress_libcgi_db_Tree_scanFirstBox"></a><font size="+1"><b>Tree_<wbr>scanFirstBox</b></font></p>
<table cellpadding="0" cellspacing="0">
  <tr>
    <td nowrap><a href="com_maroontress_libcgi_db_Box.html#struct com_maroontress_libcgi_db_Box">struct Box</a> * <b>Tree_scanFirstBox</b>(</td>
    <td nowrap><a href="com_maroontress_libcgi_db_Tree.html#struct com_maroontress_libcgi_db_Tree">struct Tree</a> *&nbsp;<i>tree</i>)</td>
  </tr>
</table>
<dl>
<dd>
ツリーの最初のボックスをスキャンします。

    <p>戻り値が参照するオブジェクトは、ツリーを解放するか、再度ツリーからボックスを取得またはスキャンするまで有効です。戻り値が参照するオブジェクトを解放してはなりません。</p>
  
<p>ボックスが存在しないか、エラーの場合は<span class="code">NULL</span>を返します。</p>

     <p>エラーの場合はエラーインディケータを設定します。</p>
  
    </dd>

<dl>Parameters:<dd>
<i>tree</i> - ツリー<br>

</dd></dl>
<dl>Returns:<dd>ボックス、または<span class="code">NULL</span></dd></dl>
</dl>
<hr>
<p><a name="com_maroontress_libcgi_db_Tree_scanNextBox"></a><font size="+1"><b>Tree_<wbr>scanNextBox</b></font></p>
<table cellpadding="0" cellspacing="0">
  <tr>
    <td nowrap><a href="com_maroontress_libcgi_db_Box.html#struct com_maroontress_libcgi_db_Box">struct Box</a> * <b>Tree_scanNextBox</b>(</td>
    <td nowrap><a href="com_maroontress_libcgi_db_Tree.html#struct com_maroontress_libcgi_db_Tree">struct Tree</a> *&nbsp;<i>tree</i>)</td>
  </tr>
</table>
<dl>
<dd>
ツリーの次のボックスをスキャンします。
<p>前回スキャンしたボックスの次のボックスをスキャンします。以前にツリーをスキャンしていない場合は、<a href="com_maroontress_libcgi_db_Tree.html#com_maroontress_libcgi_db_Tree_scanFirstBox">Tree_<wbr>scanFirstBox</a>()と同じ結果を返します。</p>

    <p>戻り値が参照するオブジェクトは、ツリーを解放するか、再度ツリーからボックスを取得またはスキャンするまで有効です。戻り値が参照するオブジェクトを解放してはなりません。</p>
  
<p>前回スキャンしたボックスがツリーの最後のボックスだった場合、またはエラーの場合は<span class="code">NULL</span>を返します。</p>

     <p>エラーの場合はエラーインディケータを設定します。</p>
  
    </dd>

<dl>Parameters:<dd>
<i>tree</i> - ツリー<br>

</dd></dl>
<dl>Returns:<dd>ボックス、または<span class="code">NULL</span></dd></dl>
</dl>
<hr>
<p><a name="com_maroontress_libcgi_db_Tree_scanLastBox"></a><font size="+1"><b>Tree_<wbr>scanLastBox</b></font></p>
<table cellpadding="0" cellspacing="0">
  <tr>
    <td nowrap><a href="com_maroontress_libcgi_db_Box.html#struct com_maroontress_libcgi_db_Box">struct Box</a> * <b>Tree_scanLastBox</b>(</td>
    <td nowrap><a href="com_maroontress_libcgi_db_Tree.html#struct com_maroontress_libcgi_db_Tree">struct Tree</a> *&nbsp;<i>tree</i>)</td>
  </tr>
</table>
<dl>
<dd>
ツリーの最後のボックスをスキャンします。

    <p>戻り値が参照するオブジェクトは、ツリーを解放するか、再度ツリーからボックスを取得またはスキャンするまで有効です。戻り値が参照するオブジェクトを解放してはなりません。</p>
  
<p>ボックスが存在しないか、エラーの場合は<span class="code">NULL</span>を返します。</p>

     <p>エラーの場合はエラーインディケータを設定します。</p>
  
    </dd>

<dl>Parameters:<dd>
<i>tree</i> - ツリー<br>

</dd></dl>
<dl>Returns:<dd>ボックス、または<span class="code">NULL</span></dd></dl>
</dl>
<hr>
<p><a name="com_maroontress_libcgi_db_Tree_scanPreviousBox"></a><font size="+1"><b>Tree_<wbr>scanPreviousBox</b></font></p>
<table cellpadding="0" cellspacing="0">
  <tr>
    <td nowrap><a href="com_maroontress_libcgi_db_Box.html#struct com_maroontress_libcgi_db_Box">struct Box</a> * <b>Tree_scanPreviousBox</b>(</td>
    <td nowrap><a href="com_maroontress_libcgi_db_Tree.html#struct com_maroontress_libcgi_db_Tree">struct Tree</a> *&nbsp;<i>tree</i>)</td>
  </tr>
</table>
<dl>
<dd>
ツリーの前のボックスをスキャンします。
<p>前回スキャンしたボックスの前のボックスをスキャンします。以前にツリーをスキャンしていない場合は、<a href="com_maroontress_libcgi_db_Tree.html#com_maroontress_libcgi_db_Tree_scanLastBox">Tree_<wbr>scanLastBox</a>()と同じ結果を返します。</p>

    <p>戻り値が参照するオブジェクトは、ツリーを解放するか、再度ツリーからボックスを取得またはスキャンするまで有効です。戻り値が参照するオブジェクトを解放してはなりません。</p>
  
<p>前回スキャンしたボックスがツリーの最初のボックスだった場合、またはエラーの場合は<span class="code">NULL</span>を返します。</p>

     <p>エラーの場合はエラーインディケータを設定します。</p>
  
    </dd>

<dl>Parameters:<dd>
<i>tree</i> - ツリー<br>

</dd></dl>
<dl>Returns:<dd>ボックス、または<span class="code">NULL</span></dd></dl>
</dl>
<hr>
<p><a name="com_maroontress_libcgi_db_Tree_scanBox"></a><font size="+1"><b>Tree_<wbr>scanBox</b></font></p>
<table cellpadding="0" cellspacing="0">
  <tr>
    <td nowrap><a href="com_maroontress_libcgi_db_Box.html#struct com_maroontress_libcgi_db_Box">struct Box</a> * <b>Tree_scanBox</b>(</td>
    <td nowrap><a href="com_maroontress_libcgi_db_Tree.html#struct com_maroontress_libcgi_db_Tree">struct Tree</a> *&nbsp;<i>tree</i>,</td>
  </tr>
  <tr>
    <td></td><td nowrap>const char *&nbsp;<i>key</i>)</td>
  </tr>
</table>
<dl>
<dd>
キーを指定してボックスをスキャンします。
<p><span class="arg">key</span>に対応するボックスが存在する場合、そのボックスを返します。そうでなければ、辞書順に<span class="arg">key</span>よりも大きく、最も小さいキーのボックスを返します。</p>

    <p>戻り値が参照するオブジェクトは、ツリーを解放するか、再度ツリーからボックスを取得またはスキャンするまで有効です。戻り値が参照するオブジェクトを解放してはなりません。</p>
  
<p><span class="arg">key</span>よりも大きいキーのボックスが存在しないか、エラーの場合は<span class="code">NULL</span>を返します。</p>

     <p>エラーの場合はエラーインディケータを設定します。</p>
  
    </dd>

<dl>Parameters:<dd>
<i>tree</i> - ツリー<br>

<i>key</i> - キーとなる文字列<br>

</dd></dl>
<dl>Returns:<dd>ボックス、または<span class="code">NULL</span></dd></dl>
</dl>
<hr>
<p><a name="com_maroontress_libcgi_db_Tree_getBox"></a><font size="+1"><b>Tree_<wbr>getBox</b></font></p>
<table cellpadding="0" cellspacing="0">
  <tr>
    <td nowrap><a href="com_maroontress_libcgi_db_Box.html#struct com_maroontress_libcgi_db_Box">struct Box</a> * <b>Tree_getBox</b>(</td>
    <td nowrap><a href="com_maroontress_libcgi_db_Tree.html#struct com_maroontress_libcgi_db_Tree">struct Tree</a> *&nbsp;<i>tree</i>,</td>
  </tr>
  <tr>
    <td></td><td nowrap>const char *&nbsp;<i>key</i>)</td>
  </tr>
</table>
<dl>
<dd>
キーを指定してボックスを取得します。
<p><span class="arg">key</span>に対応するボックスを返します。</p>

    <p>戻り値が参照するオブジェクトは、ツリーを解放するか、再度ツリーからボックスを取得またはスキャンするまで有効です。戻り値が参照するオブジェクトを解放してはなりません。</p>
  
<p><span class="arg">key</span>に対応するボックスが存在しないか、エラーの場合は<span class="code">NULL</span>を返します。</p>

     <p>エラーの場合はエラーインディケータを設定します。</p>
  
    </dd>

<dl>Parameters:<dd>
<i>tree</i> - ツリー<br>

<i>key</i> - キーとなる文字列<br>

</dd></dl>
<dl>Returns:<dd>ボックス、または<span class="code">NULL</span></dd></dl>
</dl>
<hr>
<p><a name="com_maroontress_libcgi_db_Tree_put"></a><font size="+1"><b>Tree_<wbr>put</b></font></p>
<table cellpadding="0" cellspacing="0">
  <tr>
    <td nowrap>int <b>Tree_put</b>(</td>
    <td nowrap><a href="com_maroontress_libcgi_db_Tree.html#struct com_maroontress_libcgi_db_Tree">struct Tree</a> *&nbsp;<i>tree</i>,</td>
  </tr>
  <tr>
    <td></td><td nowrap>const char *&nbsp;<i>key</i>,</td>
  </tr>
  <tr>
    <td></td><td nowrap>const void *&nbsp;<i>data</i>,</td>
  </tr>
  <tr>
    <td></td><td nowrap>size_t&nbsp;<i>size</i>)</td>
  </tr>
</table>
<dl>
<dd>
シリアライズされたデータをコミットします。

    <p>このメソッドは実装上の都合で公開されているので、アプリケーションは呼び出さないでください。</p>
  
<p><span class="arg">key</span>をキーとして、シリアライズされたデータをツリーにコミットします。</p>

     <p><a href="com_maroontress_libcgi_db_Tree.html#com_maroontress_libcgi_db_Tree_MODE_READONLY">Tree_<wbr>MODE_<wbr>READONLY</a>または<a href="com_maroontress_libcgi_db_Tree.html#com_maroontress_libcgi_db_Tree_MODE_SHARED">Tree_<wbr>MODE_<wbr>SHARED</a>で生成したツリーの場合は常に&minus;1を返します。</p>
  

     <p>エラーの場合はエラーインディケータを設定します。</p>
  
    </dd>

<dl>Parameters:<dd>
<i>tree</i> - ツリー<br>

<i>key</i> - キーとなる文字列<br>

<i>data</i> - シリアライズされたデータ<br>

<i>size</i> - <span class="arg">data</span>のサイズ<br>

</dd></dl>
<dl>Returns:<dd>成功した場合は0、そうでなければ&minus;1</dd></dl>
</dl>
<hr>
<p><a name="com_maroontress_libcgi_db_Tree_hasError"></a><font size="+1"><b>Tree_<wbr>hasError</b></font></p>
<table cellpadding="0" cellspacing="0">
  <tr>
    <td nowrap>int <b>Tree_hasError</b>(</td>
    <td nowrap><a href="com_maroontress_libcgi_db_Tree.html#struct com_maroontress_libcgi_db_Tree">struct Tree</a> *&nbsp;<i>tree</i>)</td>
  </tr>
</table>
<dl>
<dd>
ツリーのエラーインディケータの状態を取得します。
<p>エラーが発生していた場合は非0を、そうでなければ0を返します。</p>
    </dd>

<dl>Parameters:<dd>
<i>tree</i> - ツリー<br>

</dd></dl>
<dl>Returns:<dd>エラーが発生していた場合は非0、そうでなければ0</dd></dl>
</dl>
<hr>
<p><a name="com_maroontress_libcgi_db_Tree_clearError"></a><font size="+1"><b>Tree_<wbr>clearError</b></font></p>
<table cellpadding="0" cellspacing="0">
  <tr>
    <td nowrap>void <b>Tree_clearError</b>(</td>
    <td nowrap><a href="com_maroontress_libcgi_db_Tree.html#struct com_maroontress_libcgi_db_Tree">struct Tree</a> *&nbsp;<i>tree</i>)</td>
  </tr>
</table>
<dl>
<dd>
ツリーのエラーインディケータの状態をクリアします。
    </dd>

<dl>Parameters:<dd>
<i>tree</i> - ツリー<br>

</dd></dl>
</dl>
<hr>
<h2>Global Variable Detail</h2>
<p><a name="com_maroontress_libcgi_db_Tree_MODE_READONLY"></a><font size="+1"><b>Tree_MODE_READONLY</b></font></p>
<table cellpadding="0" cellspacing="0">
  <tr>
    <td nowrap>const <a href="com_maroontress_libcgi_db_Tree.html#struct com_maroontress_libcgi_db_Tree_Mode">struct Tree_<wbr>Mode</a> *const <b>Tree_MODE_READONLY</b></td>
  </tr>
</table>
<dl>
<dd>
共有ロック（リーダロック）のモードです。
<p><a href="com_maroontress_libcgi_db_Tree.html#com_maroontress_libcgi_db_Tree_create">Tree_<wbr>create</a>()の際にファイルが存在しない場合は失敗します。</p>
    </dd>
</dl>
<hr>
<p><a name="com_maroontress_libcgi_db_Tree_MODE_SHARED"></a><font size="+1"><b>Tree_MODE_SHARED</b></font></p>
<table cellpadding="0" cellspacing="0">
  <tr>
    <td nowrap>const <a href="com_maroontress_libcgi_db_Tree.html#struct com_maroontress_libcgi_db_Tree_Mode">struct Tree_<wbr>Mode</a> *const <b>Tree_MODE_SHARED</b></td>
  </tr>
</table>
<dl>
<dd>
共有ロック（リーダロック）のモードです。
<p><a href="com_maroontress_libcgi_db_Tree.html#com_maroontress_libcgi_db_Tree_create">Tree_<wbr>create</a>()の際にファイルが存在しない場合はファイルを生成します。</p>
    </dd>
</dl>
<hr>
<p><a name="com_maroontress_libcgi_db_Tree_MODE_EXCLUSIVE"></a><font size="+1"><b>Tree_MODE_EXCLUSIVE</b></font></p>
<table cellpadding="0" cellspacing="0">
  <tr>
    <td nowrap>const <a href="com_maroontress_libcgi_db_Tree.html#struct com_maroontress_libcgi_db_Tree_Mode">struct Tree_<wbr>Mode</a> *const <b>Tree_MODE_EXCLUSIVE</b></td>
  </tr>
</table>
<dl>
<dd>
排他ロック（ライタロック）のモードです。
<p><a href="com_maroontress_libcgi_db_Tree.html#com_maroontress_libcgi_db_Tree_create">Tree_<wbr>create</a>()の際にファイルが存在しない場合はファイルを生成します。</p>
    </dd>
</dl>
<hr>
  </body>
</html>
